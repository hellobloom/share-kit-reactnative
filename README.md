![Share Kit React Native](https://github.com/hellobloom/share-kit/raw/master/images/logo.png)

# Share Kit React Native

React Native wrapper for [Share Kit](https://github.com/hellobloom/share-kit#readme)

- [Share Kit React Native](#share-kit-react-native)
  - [Building The Library](#Building)
  - [Installation](#Installation)
  - [Usage](#Usage)
  - [Storybook Demo](#Storybook)
  
## Building

To build the library simply do the following from the root folder of the project :- 

1. Install the needed `node.js dependencies`, by running the command `npm i`
2. Wait for the project to build and when its finally done a folder named `dist` will be generated in the root of your project, with the compiled library ready for usage.
3. After making any changes to the library's code, please run the command `npm run build` so that it rebuilds the project and generates a new `dist` folder with your changes.

## Installation

### Automatic

1. To install the `share-kit-reactnative` library automatically, please run the command
```js
npm i --save @bloomprotocol/share-kit-reactnative
```

2. Then also run the following 2 commands to install and link the `share-kit-reactnative` library dependencies
```js
react-native link react-native-svg
react-native link react-native-linear-gradient
```

### Manual

1. Build the library as shown above.
2. Copy the `dist` folder generated by the build process, into the root folder of your react-native project.
3. Install the dependencies required by the `share-kit-reactnative` library as dev dependencies in your react-native project as follows
```js
npm i @bloomprotocol/share-kit --save-dev
npm i @types/base-64 --save-dev
npm i @types/node --save-dev
npm i append-query --save-dev
npm i base-64
npm i --save react-native-svg && react-native link react-native-svg
npm i --save react-native-linear-gradient && react-native link react-native-linear-gradient
```

Once you complete any of the above installation steps, the library should be ready for usage as shown below.

## Usage

To use the library after installing it as shown above, simply do the following :-

### TypeScript

```tsx
import { RequestButton } from "@bloomprotocol/share-kit-reactnative";
import { Action, RequestData }  from "@bloomprotocol/share-kit";

const requestData: RequestData = {
    action: Action.attestation,
    token: 'a08714b92346a1bba4262ed575d23de3ff3e6b5480ad0e1c82c011bab0411fdf',
    url: 'https://receive-kit.bloom.co/api/receive',
    org_logo_url: 'https://bloom.co/images/notif/bloom-logo.png',
    org_name: 'Bloom',
    org_usage_policy_url: 'https://bloom.co/legal/terms',
    org_privacy_policy_url: 'https://bloom.co/legal/privacy',
    types: ['phone', 'email'],
};

const buttonCallbackUrl = 'https://mysite.com/bloom-callback';

<RequestButton
    requestData={requestData}
    buttonCallbackUrl={buttonCallbackUrl} 
/>

```

### Vanilla JS

```js
import { RequestButton } from "@bloomprotocol/share-kit-reactnative";
import { Action }  from "@bloomprotocol/share-kit";

const requestData = {
    action: Action.attestation,
    token: 'a08714b92346a1bba4262ed575d23de3ff3e6b5480ad0e1c82c011bab0411fdf',
    url: 'https://receive-kit.bloom.co/api/receive',
    org_logo_url: 'https://bloom.co/images/notif/bloom-logo.png',
    org_name: 'Bloom',
    org_usage_policy_url: 'https://bloom.co/legal/terms',
    org_privacy_policy_url: 'https://bloom.co/legal/privacy',
    types: ['phone', 'email'],
};

const buttonCallbackUrl = 'https://mysite.com/bloom-callback';

<RequestButton
    requestData={requestData}
    buttonCallbackUrl={buttonCallbackUrl} 
/>

```

## Storyboard Demo
Please check out the storyboard demo of the library in the [example](./example) react-native project. 

To run the `example` storyboard project, simply do the following

1. Clone this repo
2. Build the `share-kit-reactnative` library as shown above
3. Change Directory `cd` into the `example` folder and install the node.js dependencies via the command `npm i`
4. Finally run the `example` react native project app in your device/simulator/emulator, by running the commands `react-native run-android` for android and `react-native run-ios` for ios  
